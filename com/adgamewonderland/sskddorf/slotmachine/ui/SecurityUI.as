/* * Generated by ASDT*//*klasse:			SecurityUIautor: 			gerd jungbluth, adgame-wonderlandemail:			gerd.jungbluth@adgame-wonderland.dekunde:			ssk ddorferstellung: 		09.09.2005zuletzt bearbeitet:	14.09.2005durch			gjstatus:			in bearbeitung*/import com.adgamewonderland.agw.util.TimelineFollower;import com.adgamewonderland.sskddorf.slotmachine.ui.MessageUI;import com.adgamewonderland.sskddorf.slotmachine.ui.SlotmachineUI;import com.meychi.MD5;class com.adgamewonderland.sskddorf.slotmachine.ui.SecurityUI extends MovieClip {	private var mySlotmachineUI:SlotmachineUI;	private var myCode:String;	private var code_txt:TextField;	private var message_mc:MessageUI;	private var send_btn:Button;	public function SecurityUI()	{		// hauptzeitleiste		mySlotmachineUI = SlotmachineUI(_parent);		// sicherheitscode		myCode = "";		// abspielen verfolgen		var follower:TimelineFollower = new TimelineFollower(this, "init");		// abspielen verfolgen		onEnterFrame = function() {			follower.followTimeline();		};	}	public function init():Void	{	 	// button send	 	send_btn.onRelease = function () {	 		this._parent.checkCode();	 	};	 	// sicherheitscode	 	myCode = MD5.calculate(Math.random().toString()).substr(0, 5).toUpperCase();	 	// eingabe ziffern und grossbuchstaben	 	code_txt.restrict = "A-Z0-9";	 	// einzelne zeichen anzeigen	 	for (var i:Number = 0; i < myCode.length; i++) {	 		// aktuelles zeichen	 		var char:String = myCode.split("")[i];	 		// neues textfeld	 		this.createTextField("char" + i + "_txt", (i + 1), 60 + (i * 15), 285, 20, 20);	 		var char_txt:TextField = this["char" + i + "_txt"];	 		// dynamisch	 		char_txt.selectable = false;	 		// rahmen//	 		char_txt.border = true;	 		// font	 		char_txt.embedFonts = true;	 		// zeichen	 		char_txt.text = char;	 		// font, size	 		char_txt.setTextFormat(new TextFormat("Sparkasse Rg", 14));	 		// drehen	 		char_txt._rotation += (Math.round(Math.random() * 15 * (Math.random() < 0.5 ? -1 : 1)));	 	}	}	public function checkCode():Void	{		// code		var code:String = code_txt.text;		// validieren		if (code !== myCode) {			// meldung anzeigen			message_mc.showMessage("Bitte geben Sie den korrekten Code ein!");			// abbrechen			return;		}		// button ausblenden		send_btn._visible = false;		// abspielen verfolgen		var follower:TimelineFollower = new TimelineFollower(this, "onSecurityFinished");		// abspielen verfolgen		onEnterFrame = function() {			follower.followTimeline();		};		// abspielen		gotoAndPlay("frClose");	}	public function onSecurityFinished():Void	{		// zum bandit		mySlotmachineUI.showBandit();	}}