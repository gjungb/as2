import com.adgamewonderland.ea.nextlevel.model.beans.impl.RepositoryImpl;import com.adgamewonderland.agw.interfaces.IEventBroadcaster;import com.adgamewonderland.agw.util.EventBroadcaster;/** * @author gerd */class com.adgamewonderland.ea.nextlevel.controllers.RepositoryController implements IEventBroadcaster{	private static var _instance:RepositoryController;	private var _event:EventBroadcaster;	private var repository:RepositoryImpl;	/**	 * laedt das zur applikation gehoerige repository	 */	public function loadRepository():Void	{		// neues repository		var repo:RepositoryImpl = new RepositoryImpl();		// merken	 	this.repository = repo;		// startverzeichnis		repo.setArchivPfad("startdir://Repository");		// laden		repo.readRepositorySynchronized();		// listener informieren		_event.send("onRepositoryLoaded", repo);	}	public static function getInstance():RepositoryController	{		if (_instance == null)			_instance = new RepositoryController();		return _instance;	}	public function addListener(l:Object):Void	{		this._event.addListener(l);	}	public function removeListener(l:Object):Void	{		this._event.removeListener(l);	}	public function setRepository(repository:RepositoryImpl):Void	{		this.repository = repository;	}	public function getRepository():RepositoryImpl	{		return this.repository;	}	private function RepositoryController()	{		this._event = new EventBroadcaster();		// repository		this.repository = null;	}}