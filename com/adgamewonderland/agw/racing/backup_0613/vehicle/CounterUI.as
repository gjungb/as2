/* 
 * Generated by ASDT 
*/ 

/*
klasse:			CounterUI
autor: 			gerd jungbluth, adgame-wonderland
email:			gerd.jungbluth@adgame-wonderland.de
kunde:			agw
erstellung: 		09.06.2005
zuletzt bearbeitet:	09.06.2005
durch			gj
status:			in bearbeitung
*/

class com.adgamewonderland.agw.racing.vehicle.CounterUI extends MovieClip {
	
	private var time_txt:TextField;
	
	private var laps_txt:TextField;
	
	public function CounterUI() {
		// zeitanzeige linksbuendig
		time_txt.autoSize = "left";
		// rundenanzeige zentriert
		laps_txt.autoSize = "center";
	}
	
	public function showTime(ms:Number ):Void
	{
		// minuten
		var minutes:Number = Math.floor(ms / 1000 / 60);
		// sekunden
		var seconds:Number = Math.floor(ms / 1000) - minutes * 60;
		// hunderstel
		var hundreds:String = (ms / 1000).toString().split(".")[1].substr(0, 2);
		// leere abfangen
		if (hundreds == undefined) hundreds = "00";
		// anzeigen
		time_txt.text = leadingZero(minutes) + ":" + leadingZero(seconds) + ":" + leadingZero(Number(hundreds));
	}
	
	public function showLap(current:Number, max:Number ):Void
	{
		// anzeigen
		laps_txt.text = String(current) + "/" + String(max);
	}
	
	private function leadingZero(num:Number ):String
	{
		// in string umwandeln
		var str:String = num.toString();
		// falls kuerzer als zwei zeichen
		if (str.length < 2) {
			// nullen vorne dran
			str = String("00").substr(0, 2 - str.length)  + str;
		}
		// zurueck geben
		return (str);
	}
}