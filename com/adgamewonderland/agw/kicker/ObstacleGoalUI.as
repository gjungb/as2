/* 
 * Generated by ASDT 
*/ 

/*
klasse:			ObstacleUI
autor: 			gerd jungbluth, adgame-wonderland
email:			gerd.jungbluth@adgame-wonderland.de
kunde:			agw
erstellung: 		15.05.2005
zuletzt bearbeitet:	17.05.2005
durch			gj
status:			in bearbeitung
*/

import com.adgamewonderland.agw.math.*;

import com.adgamewonderland.agw.physics.*;

import com.adgamewonderland.agw.kicker.*;

class com.adgamewonderland.agw.kicker.ObstacleGoalUI extends ObstacleUI implements Strokable {
	
	private var myStroke:StrokeUI;
	
	public function ObstacleGoalUI()
	{
		// eigenschaften von ObstacleUI
		super();
		// typ des obstacles
		type = TYPE_GOAL;
		// taktgeber
		myStroke = _global.Stroke;
		// starten
		startObstacle();
	}
	
	public function onUpdateStroke():Void
	{
		// testen, ob der ball im tor ist
		if (isBallColliding() == true) {
			// callback
			onBallCollision();
		}
	}
	
	public function resetObstacle():Void
	{
		// beim taktgeber abmelden
		myStroke.removeListener(this);
	}
	
	private function startObstacle():Void
	{
		// beim taktgeber anmelden
		myStroke.addListener(this);
	}
	
	private function onBallCollision():Void
	{
		// spiel informieren
		myKickerUI.onObstacleBallCollision(this);
	}
}