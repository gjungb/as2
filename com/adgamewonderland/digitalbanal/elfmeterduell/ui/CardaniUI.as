/* 
 * Generated by ASDT 
*/ 

import de.kruesch.event.EventBroadcaster;

import com.adgamewonderland.agw.util.TimelineFollower;

import com.adgamewonderland.digitalbanal.elfmeterduell.ui.CardUI;

class com.adgamewonderland.digitalbanal.elfmeterduell.ui.CardaniUI extends MovieClip {
	
	private static var EVENT_CARDANIFINISHED:String = "onCardaniFinished";
	
	private var _event:EventBroadcaster;
	
	private var status:Boolean;
	
	public var card_mc:CardUI;
	
	public function CardaniUI() {
		// event
		_event = new EventBroadcaster();
		// aktueller status (ein- / ausgeblendet)
		this.status = true;
		// abspielen
		gotoAndPlay("frIn");
	}
	
	public static function getCardaniUI():CardaniUI
	{
		return (_root.content_mc.cardani_mc);
	}
	
	public function showCardani(inout:Boolean ):Void
	{
		// abbrechen, wenn keine aenderung status
		if (getStatus() == inout) {
			// beenden
			onCardaniFinished(inout);
			// abbrechen
			return;
		}
		// status
		setStatus(inout);
		// frame
		var frame:String = (inout ? "frIn" : "frOut");
		// abspielen verfolgen
		var follower:TimelineFollower = new TimelineFollower(this, "onCardaniFinished", null);
		// abspielen verfolgen
		this.onEnterFrame = function() {
			follower.followTimeline();
		}
		// abspielen
		gotoAndPlay(frame);
	}
	
	public function onCardaniFinished():Void
	{
		// listener informieren
		_event.send(EVENT_CARDANIFINISHED);
	}
	
	public function getStatus():Boolean {
		return status;
	}

	public function setStatus(status:Boolean):Void {
		this.status = status;
	}
	
	public function addListener(l ):Void
	{
		_event.addListener(l);
	}
	
	public function removeListener(l ):Void
	{
		_event.removeListener(l);
	}

}