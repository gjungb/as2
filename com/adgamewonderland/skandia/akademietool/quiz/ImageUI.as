/*klasse:			ImageUIautor: 			gerd jungbluth, adgamewonderlandemail:			gerd.jungbluth@adgamewonderland.dekunde:			skandiaerstellung: 		19.01.2005zuletzt bearbeitet:	26.01.2005durch			gjstatus:			final*/import com.adgamewonderland.skandia.akademietool.quiz.*;class com.adgamewonderland.skandia.akademietool.quiz.ImageUI extends MovieClip {	// Attributes		private var myQuizUI:QuizUI;		private var myImage:Image;		private var isLoaded:Boolean;		private var myLoader:MovieClipLoader;		private var load_mc:MovieClip;		private var close_mc:MovieClip;		private var loader_mc:LoaderUI;		private var dummy_mc:MovieClip;		private var image_mc:MovieClip;		private var canvas_mc:MovieClip;		private var blind_mc:MovieClip;		// Operations		// konstruktor	public function ImageUI( )	{		// quiz		myQuizUI = QuizUI(_parent._parent);		// informationen ueber dargestellte abbildung		myImage = null;		// abbildung nicht geladen		isLoaded = false;		// loader		myLoader = new MovieClipLoader();		// listener installieren		myLoader.addListener(this);		// button zum laden		load_mc.onRelease = function() {			this._parent.showImage(true);		};		// button zum schliessen		close_mc.onRelease = function() {			this._parent.showImage(false);		};		// loader ausblenden		loader_mc._visible = false;		// rahmen ausblenden		canvas_mc._visible = false;		// blind button ohne cursor		blind_mc.useHandCursor = false;		// blind button ausblenden		blind_mc._visible = false;				// abbildung entladen		showImage(false);				// ausblenden		this._visible = false;	}		public function set image(img:Image ):Void	{		// informationen ueber dargestellte abbildung		myImage = img;		// abbildung nicht geladen		isLoaded = false;	}		public function showImage(bool:Boolean ):Void	{		// ein- / ausblenden		switch (bool) {			// laden / einblenden			case true:				// abbildung nicht geladen				isLoaded = false;				// neues movieclip, in das die abbildung geladen wird				image_mc = dummy_mc.createEmptyMovieClip("image_mc", 1);				// laden				myLoader.loadClip(myImage.src, image_mc);									break;			// entladen / ausblenden			case false:				// abbildung nicht geladen				isLoaded = false;				// abbildung loeschen				image_mc.unloadMovie();				// rahmen ausblenden				canvas_mc._visible = false;				// blind button ausblenden				blind_mc._visible = false;				// button zum laden einblenden				load_mc._visible = true;				// button zum schliessen ausblenden				close_mc._visible = false;								break;		}		// navigation im quiz ein- / ausblenden		myQuizUI.showNavigation(!bool);	}		public function onLoadStart(mc:MovieClip ):Void	{		// blind button einblenden		blind_mc._visible = true;		// button zum laden ausblenden		load_mc._visible = false;		// loader resetten		loader_mc.showProgress(0);		// loader einblenden		loader_mc._visible = true;	}		public function onLoadProgress(mc:MovieClip, loaded:Number, total:Number ):Void	{		// prozent geladen		var percent:Number = Math.round(loaded / total * 100);		// an loader uebergeben		loader_mc.showProgress(percent);	}		public function onLoadInit(mc:MovieClip ):Void	{		// abbildung geladen		isLoaded = true;		// button zum schliessen einblenden		close_mc._visible = true;		// button zum schliessen animieren		close_mc.gotoAndPlay(1);		// loader ausblenden		loader_mc._visible = false;		// rahmen einblenden		canvas_mc._visible = true;		// abbildung positionieren		image_mc._x = canvas_mc._x + (canvas_mc._width - myImage.width) / 2;		image_mc._y = canvas_mc._y + (canvas_mc._height - myImage.height) / 2;	}	} /* end class ImageUI */