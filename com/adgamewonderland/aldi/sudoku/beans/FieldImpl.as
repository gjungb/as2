/* 
 * Generated by ASDT 
*/ 

import com.adgamewonderland.aldi.sudoku.beans.ContainerImpl;
import com.adgamewonderland.aldi.sudoku.beans.Content;
import com.adgamewonderland.aldi.sudoku.beans.Field;

import de.kruesch.event.EventBroadcaster;

class com.adgamewonderland.aldi.sudoku.beans.FieldImpl extends Field {
	
	private static var EVENT_CONTENTCHANGED:String = "onContentChanged";
	
	private static var EVENT_GUESSCHANGED:String = "onGuessChanged";
	
	private static var EVENT_CONTAINERFINISHED:String = "onContainerFinished";
	
	private var _event:EventBroadcaster;
	
	public function FieldImpl() {
		// event broadcaster
		_event = new EventBroadcaster();
	}
	
	public function addListener(l ):Void
	{
		_event.addListener(l);
	}
	
	public function removeListener(l ):Void
	{
		_event.removeListener(l);
	}
	
	public function changeContent(c:Content ):Void
	{
		// bisheriger content
		var oldcontent:Content = getContent();
		// content aendern
		setContent(c);
		// testen, ob content und solution uebereinstimmen
		setSolved(this.solution.equals(this.content));
		// listener informieren
		_event.send(EVENT_CONTENTCHANGED, this, oldcontent);
	}
	
	public function setFinished(c:ContainerImpl ):Void
	{
		// listener informieren
		_event.send(EVENT_CONTAINERFINISHED, c);
	}
	
	public function toString():String
	{
		return ("FieldImpl: " + this.id);
	}
	
	
}