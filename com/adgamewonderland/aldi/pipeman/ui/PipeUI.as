/* 
 * Generated by ASDT 
*/ 

import com.adgamewonderland.aldi.pipeman.beans.Pipe;

class com.adgamewonderland.aldi.pipeman.ui.PipeUI extends MovieClip {
	
	private var _pipe:Pipe;
	
	private var pipe:Pipe;
	
	private var flow0_mc:MovieClip;
	
	private var flow1_mc:MovieClip;
	
	private var flow2_mc:MovieClip;
	
	private var flow3_mc:MovieClip;
	
	public function PipeUI() {
		this.pipe = _pipe;
	}
	
	public function onLoad():Void
	{
		// frame, der die entsprechende pipe anzeigt
		var frame:Number = getPipe().getId();
		// hinspringen
		gotoAndStop(frame);	
	}
	
	public function showFlow():Void
	{
		// flow animation
		var flow:MovieClip = this["flow" + getPipe().getEntry().getType() + "_mc"];
//		// abspielen verfolgen
//		onEnterFrame = function() {
//			// letzter frame erreicht
//			if (flow._currentframe == flow._totalframes) {
//				// verfolgen beenden
//				delete onEnterFrame;
//				// flow fortsetzen
//				Grid.getInstance().updateFlow();
//			}
//		};
		// abspielen
		flow.play();
	}
	
	public function getPipe():Pipe {
		return pipe;
	}

	public function setPipe(pipe:Pipe):Void {
		this.pipe = pipe;
	}

}