/*klasse:			ResultUIautor: 			gerd jungbluth, adgame-wonderlandemail:			gerd.jungbluth@adgame-wonderland.dekunde:			sk koelnbonnerstellung: 		06.01.2005zuletzt bearbeitet:	18.04.2005durch			gjstatus:			in bearbeitung*/import com.adgamewonderland.skkoelnbonn.trefferkonto.*class com.adgamewonderland.skkoelnbonn.trefferkonto.ResultUI extends MovieClip {	// Attributes		private var duration_txt:TextField;		private var interest_txt:TextField;		private var actual_txt:TextField;	 	private var bonus1_txt:TextField;	 	private var bonus2_txt:TextField;	 	private var bonustotal_txt:TextField;	 	private var revenue_txt:TextField;		// Operations		public function ResultUI()	{		// sonderzins		interest_txt.autoSize = "left";		// effektivzins		actual_txt.autoSize = "right";		// bonus 1		bonus1_txt.autoSize = "right";		// bonus 2		bonus2_txt.autoSize = "right";		// gesamt bonus		bonustotal_txt.autoSize = "right";		// ertrag		revenue_txt.autoSize = "right";	}		public function showResult(res:Result ):Void	{		// ergebnis anzeigen				// sonderzins		interest_txt.text = getFormattedValue(res.interest) + "%";		// effektivzins		actual_txt.text = getFormattedValue(res.actual) + "%";		// bonus 1		bonus1_txt.text = getFormattedValue(res.bonus1) + "%";		// bonus 2		bonus2_txt.text = getFormattedValue(res.bonus2) + "%";		// gesamt bonus		bonustotal_txt.text = getFormattedValue(res.bonustotal) + "%";		// ertrag		revenue_txt.text = getFormattedValue(res.revenue) + " EUR";	}		private function getFormattedValue(num:Number ):String	{		// in string umwandeln		var newval:String = String(num);		// vorkomma und nachkomma trennen		var values:Array = newval.split(".");		// formatieren		var formval:String = "";		// rueckwaertsschleife ueber vorkomma, um tausenderpunkte einuzfuegen		var dotcount:Number = 0;		for (var i:Number = values[0].length - 1; i >= 0; i --) {			// aktuelle ziffer anhaengen			formval = values[0].substr(i, 1) + formval;			// alle 3 ziffern ein punkt (ausser ganz links)			if (++dotcount % 3 == 0 && i > 0) formval = "." + formval;		}		// nachkomma zweistellig dranhaengen		formval += "," + getFormattedDigits(values[1]);		// zurueck geben		return (formval);	}		private function getFormattedDigits(num:Number ):String	{		// nachkomma		var cent:String = String(num).substr(0, 3);		// je nach genauigkeit		switch (cent.length) {			// leer			case 0 :				// zwei nullen				cent = "00";								break;			// eine stelle			case 1 :				// eine null				cent += "0";								break;			// zwei stellen			case 2 :				// nix								break;			// drei stellen			case 3 :				// runden				cent = String(Math.round(Number(cent) / 10));				// ggf nullen vorne dranhaengen				cent = "00".substr(0, 2 - cent.length) + cent;								break;		}		// zurueck geben		return (cent.substr(0, 2));	}} /* end class ResultUI */