/*klasse:			DropdownUIautor: 			gerd jungbluth, adgame-wonderlandemail:			gerd.jungbluth@adgame-wonderland.dekunde:			sk koelnbonnerstellung: 		17.12.2004zuletzt bearbeitet:	09.01.2005durch			gjstatus:			in bearbeitung*/class com.adgamewonderland.skkoelnbonn.trefferkonto.DropdownUI extends MovieClip {	// Attributes		private var _myName:String;		private var _myNames:Array;		private var _myValues:Array;		private var _myCaller:Object;		private var _myCallback:String;		private var _myYDiff:Number;		private var myItems:Array;		private var isDropped:Boolean;		private var item_mc:MovieClip;	 	private var name_txt:TextField;		// Operations		public  function DropdownUI()	{		// anzuzeigende items ({name, value}-paare)		myItems = [];		// caller// 		_myCaller = null;		// callback bei klick auf ein item// 		_myCallback = "";		// y-abstand zwischen den items// 		_myYDiff = 0;		// schalter, ob dropdown ausgeklappt ist		isDropped = false;		// button aktivieren		item_mc.onRelease = function () {			this._parent.onPressBack();		}		item_mc.onReleaseOutside = function () {			this._parent.showItems(false);		}		// initialisieren// 		initDropdownUI(_myName, _myNames, _myValues, _myCaller, _myCallback, _myYDiff);	}		public  function initDropdownUI(name:String, names:Array, values:Array, caller:Object, callback:String, ydiff:Number ):Void	{		// anzuzeigende items und die dazu gehoerigen werte		myItems.splice(0);		// name		name_txt.text = name;		_myName = name;		// schleife ueber alle items		for (var i:Number = 0; i < values.length; i ++) {			// neues item			myItems.push({name : names[i], value : values[i]});		}		// caller		_myCaller = caller;		// callback bei klick auf ein item		_myCallback = callback;		// y-abstand zwischen den items		if (ydiff != null) _myYDiff = ydiff;	}		public  function showItems(bool:Boolean ):Void 	{		// aktivitaet umschalten		isDropped = bool; // !isDropped;		// zaehler		var i:Number = -1;		// schleife ueber alle werte		while (++i < myItems.length) {			// ein oder aus			switch (bool) {				// aufbauen				case true :					// position auf buehne					var pos:Object = {x : 0, y : (i + 1) * _myYDiff};					// text des items					var name:String = myItems[i].name;					// item duplizieren					var item:MovieClip = item_mc.duplicateMovieClip("item" + i + "_mc", i, {_x : pos.x, _y : pos.y, myNum : i, myName : name});					// callback bei druecken					item.onRelease = function () {						// dieses item auswaehlen						this._parent.onSelectItem(this.myNum);					}					break;								// abbauen				case false :					// loeschen					this["item" + i + "_mc"].removeMovieClip();						break;			}		}	}		// callback beim druecken des dropdowns	public function onPressBack():Void	{		// items ein- / ausblenden		showItems(!isDropped);	}		// callback beim druecken eines items	public function onSelectItem(num:Number ):Void	{		// entsprechendes item		var item:Object = myItems[num];		// text des items		name_txt.text = item.name;		// callback ausfuehren		_myCaller[_myCallback](item.value);		// items ausblenden		showItems(false);	}		// name ein- / ausblenden	public function showName(bool:Boolean ):Void	{		// ein- / ausblenden		name_txt._visible = bool;	}		// auf ausgangszustand	public function resetDropdown():Void	{		// items ausblenden		showItems(false);		// name		name_txt.text = _myName;		// einblenden		showName(true);	}} /* end class DropdownUI */