import com.adgamewonderland.eplus.baseclip.descriptors.ContentDescriptor;class com.adgamewonderland.eplus.baseclip.descriptors.NavigationDescriptor {	public static var NUMMENUMAIN:Number = 6;	private static var _instance:NavigationDescriptor = null;	private static var myContentDescriptors:Object;	public static function getInstance():NavigationDescriptor	{		if (_instance == null) {			_instance = new NavigationDescriptor();		}		return _instance;	}	public function getContentDescriptor(path:Array ):ContentDescriptor	{		// content descriptor zu diesem path zurueck geben		return myContentDescriptors[path.join("")];	}	public function getMenuItemsSub(path:Array ):Array	{		// pfade der sub menu items zum uebergebenen path		var items:Array = [];		// schleife ueber alle descriptors		for (var i:String in myContentDescriptors) {			// aktueller descriptor			var desc:ContentDescriptor = myContentDescriptors[i];			// testen, ob teil des uebergebenen path			if (path[0] == desc.path[0] && desc.path.length > 1) items.push(desc.path);		}		// zurueck geben		return items;	}	private function NavigationDescriptor()	{		// xml beschreibung von navigation und content		var desc:String = "";		desc += "<content>";		desc += "<menumain path='start' menuname='Home' hascontent='true' hasmenu='true' introtext='' width='400' height='400' file='index' />";		desc += "<menumain path='flatm' menuname='Der BASE Flatman' hascontent='true' hasmenu='true' introtext='' width='400' height='400' file='flatman' />";		desc += "<menumain path='galer' menuname='Galerie' hascontent='true' hasmenu='true' introtext='' width='400' height='400' file='galerie' />";		desc += "<menumain path='teiln' menuname='Teilnehmen' hascontent='true' hasmenu='true' introtext='' width='550' height='400' file='teilnehmen' />";		desc += "<menumain path='gewin' menuname='Gewinnen' hascontent='true' hasmenu='true' introtext='' width='400' height='400' file='gewinnen' />";		desc += "<menumain path='weite' menuname='Weitersagen' hascontent='true' hasmenu='true' introtext='' width='550' height='400' file='weitersagen' />";		desc += "<menumain path='konta' menuname='Kontakt' hascontent='true' hasmenu='false' introtext='' width='550' height='400' file='kontakt' />";		desc += "</content>";		// parsen und als objektbaum speichern		myContentDescriptors = parseDescription(desc);	}	private static function parseDescription(desc:String ):Object	{		// assoziatives array der contentdescriptors (path wird index)		var descriptors:Object = {};		// xml beschreibung		var xmldesc:XML = new XML();		// xml ohne leerzeichen		xmldesc.ignoreWhite = true;		// beschreibung einlesen		xmldesc.parseXML(desc);		// alle menuitems		var items:Array = xmldesc.firstChild.childNodes;		// schleife ueber alle menuitems		for (var i:String in items) {			// aktuelles item			var item:XMLNode =items[i];			// path als string			var pstr:String = item.attributes["path"];			// path als array			var parr:Array = pstr.split(",");			// neuen content descriptor speichern			descriptors[parr.join("")] = new ContentDescriptor(parr, item.attributes["menuname"], (item.attributes["hascontent"] == "true" ? true : false), (item.attributes["hasmenu"] == "true" ? true : false), item.attributes["introtext"], Number(item.attributes["width"]), Number(item.attributes["height"]), item.attributes["file"]);		}		// zurueck geben		return descriptors;	}}