import mx.transitions.Tween;import mx.transitions.easing.None;import mx.transitions.easing.Strong;import com.adgamewonderland.eplus.baseclip.util.TweenHelper;/** * @author gerd */class com.adgamewonderland.eplus.baseclip.controllers.TellafriendController {	public static var STATUS_INIT:Number = 1;	public static var STATUS_TELLAFRIEND:Number = 2;	public static var STATUS_CONFIRMATION:Number = 3;	private static var instance : TellafriendController;	private var status:Number;	private var uis:Array;	private var numuis:Number;	/**	 * @return singleton instance of TellafriendController	 */	public static function getInstance() : TellafriendController {		if (instance == null)			instance = new TellafriendController();		return instance;	}	/**	 * fuegt ein movieclip zu einem status hinzu	 * @param mc zu registrierendes movieclip	 * @param status status, zu dem das movieclip gehoert	 */	public function addUI(mc:MovieClip, status:Number ):Void	{		// zum array der registrierten movieclips hinzufuegen		this.uis[status] = mc;		// anzahl registrierter movieclips hochzaehlen		this.numuis ++;		// starten, wenn alle registriert		if (this.numuis == 2) onFinishStatus(STATUS_INIT);	}	/**	 * entfernt ein movieclip zu einem status	 * @param mc zu deregistrierendes movieclip	 * @param status status, zu dem das movieclip gehoert	 */	public function removeUI(mc:MovieClip, status:Number ):Void	{		// aus array der registrierten movieclips entfernen		if (this.uis[status] == mc) this.uis[status] = null;		// anzahl registrierter movieclips runterzaehlen		this.numuis --;	}	/**	 * informiert den controller ueber den start eines status	 * @param status status, der gestartet wird	 */	public function onInitStatus(status:Number ):Void	{		// neuer status		setStatus(status);		// je nach status		switch (status) {			// init			case STATUS_INIT :				break;			// tellafriend			case STATUS_TELLAFRIEND :				// einfaden				tweenIn(getUI(STATUS_TELLAFRIEND));				break;			// confirmation			case STATUS_CONFIRMATION :				// einfaden				tweenIn(getUI(STATUS_CONFIRMATION));				break;		}	}	/**	 * informiert den controller ueber das ende eines status	 * @param status status, der beendet wird	 */	public function onFinishStatus(status:Number ):Void	{		// je nach status		switch (status) {			// init			case STATUS_INIT :				// naechster status				onInitStatus(STATUS_TELLAFRIEND);				break;			// participation			case STATUS_TELLAFRIEND :				// ausfaden				tweenOut(getUI(STATUS_TELLAFRIEND));				// naechster status				onInitStatus(STATUS_CONFIRMATION);				break;			// confirmation			case STATUS_CONFIRMATION :				break;		}	}	private function TellafriendController() {		// aktueller status		this.status = STATUS_INIT;		// registrierte movieclips		this.uis = new Array();		// anzahl registrierter movieclips		this.numuis = 0;	}	private function tweenIn(mc:MovieClip ):Void	{		new TweenHelper().tweenIn(mc);	}	private function tweenOut(mc:MovieClip ):Void	{		new TweenHelper().tweenOut(mc);	}	private function getUI(status:Number ):MovieClip	{		// movieclip aus array der registrierten movieclips zuruek geben		return this.uis[status];	}	private function setStatus(status:Number ) {		this.status = status;	}	private function getStatus():Number {		return this.status;	}}