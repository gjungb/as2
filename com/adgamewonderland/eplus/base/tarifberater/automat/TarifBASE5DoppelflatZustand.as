import com.adgamewonderland.eplus.base.tarifberater.beans.Warenkorb;import com.adgamewonderland.eplus.base.tarifberater.beans.AbstractProdukt;import com.adgamewonderland.eplus.base.tarifberater.beans.BeraterOnlineVorteil;import com.adgamewonderland.eplus.base.tarifberater.automat.AbstractZustand;import com.adgamewonderland.eplus.base.tarifberater.automat.TarifberaterAutomat;import com.adgamewonderland.eplus.base.tarifberater.beans.Antwort;import com.adgamewonderland.eplus.base.tarifberater.beans.BeraterTarif;import com.adgamewonderland.eplus.base.tarifberater.beans.Frage;import com.adgamewonderland.eplus.base.tarifberater.interfaces.IProdukt;import com.adgamewonderland.eplus.base.tarifberater.interfaces.IZustand;import com.adgamewonderland.eplus.base.tarifberater.controllers.ApplicationController;/** * @author gerd */class com.adgamewonderland.eplus.base.tarifberater.automat.TarifBASE5DoppelflatZustand extends AbstractZustand {		var onlinevorteil : BeraterOnlineVorteil;		public function TarifBASE5DoppelflatZustand(aAutomat : TarifberaterAutomat) {		super(aAutomat);		// id		this.id = "TarifBASE5DoppelflatZustand";		// frage		this.frage = new Frage("Dann wählen Sie eine der folgenden BASE Flatrates.");		this.frage.addAntwort(new Antwort("AntwortBASE5DoppelflatUI", "BeraterTarif", BeraterTarif.BASE5DOPPELFLAT, ""));		// nicht waehlbarer onlinevorteil		this.onlinevorteil = BeraterOnlineVorteil(AbstractProdukt.getProdukt(BeraterOnlineVorteil.ONLINEVORTEIL_ABSOLUT));	}		public function produktWaehlen(aProdukt : IProdukt) : Void {		// zu empfehlender tarif		var tarif : BeraterTarif;		// naechster zustand		var zustand : IZustand = this.automat.getFehlerZustand();		// tarif gewaehlt		if (aProdukt instanceof BeraterTarif) {			tarif = BeraterTarif(aProdukt);			// sms waehlen				zustand = this.automat.getSMSZustand();				// online vorteil hinzufuegen			this.onlinevorteil.setVisible(true);			// onlinevorteil hinzufuegen			this.automat.getBerater().addProdukt(this.onlinevorteil);		}				// sichtbar machen		tarif.setVisible(true);		// tarif hinzufuegen		this.automat.getBerater().addProdukt(tarif);		// naechster zustand		this.automat.setZustand(zustand);	}		public function warenkorbBestellenMoeglich() : Boolean {		// nicht moeglich, zu bestellen		return false;	}	public function onZustandGeaendert(aZustand : IZustand, aWarenkorb : Warenkorb) : Void {		// ggf. onlinevorteil loeschen		if (this.equals(aZustand)) {			if (aWarenkorb.isProduktEnthalten(this.onlinevorteil)) {				aWarenkorb.removeProdukt(this.onlinevorteil);			}		}	}		public function toString() : String {		return "com.adgamewonderland.eplus.base.tarifberater.automat.TarifBASE5Zustand";	}}